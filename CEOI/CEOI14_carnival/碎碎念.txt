感觉是个好题
应该是用并查集来维护相同颜色的人

我们可以通过询问得到哪些信息呢？

我们可以询问全集，得到所有朋友的颜色种类数

然后我们询问前半个区间，和后半个区间，
我们可以求出前半个区间和后半个区间的颜色交集种类数

不二分了

逐个逐个确定

可以直接设第一个朋友颜色为1
然后询问1 2，看看第二个朋友颜色是不是等于第一个朋友的
如果是那么第二个朋友颜色也为1，否则设为2

我们可以做O(N^2)次请求，对第i个朋友，依次询问1 i, 2 i, 3 i, ... , i-1 i 来确定它的颜色
150*149/2=11175
可以拿20分
可以用来对拍

不过对拍的话，直接写SPJ，反正答案都是自己生成的

往分治方向想，如果我们求出了前半个区间和后半个区间的颜色数组，怎么合并呢？

想出了一个O(N(logN)^2)的方法
我们把前半区间和后半区间分治处理
求出了前半区间的颜色数组和后半区间的颜色数组

对于这两个颜色数组，我们分别取数组中不同的数字组成新的数组
这样我们有了数组A和数组B
A中的数字各不相同，B也是
对于B中的每个数字，我们去邀请A中的所有人和这个B中的人
然后可以知道B中的这个人的颜色是否已经存在于A中，如果不存在，就把颜色编号修改成独一无二的数字
如果存在，继续二分A，邀请A中的前半人和这个B中的人...这样可以确定B中的人到底对应A中的哪个颜色
从而把B中颜色标号改成A中的